---
interface Props {
  action?: string;
  buttonText?: string;
  placeholder?: string;
  class?: string;
}

const {
  action = '/api/subscribe',
  buttonText = 'Subscribe',
  placeholder = 'Enter your email',
  class: className,
} = Astro.props;
---

<form
  action={action}
  method="POST"
  class:list={['flex flex-col sm:flex-row gap-3', className]}
>
  <div class="flex-1">
    <label for="subscribe-email" class="sr-only">Email address</label>
    <input
      type="email"
      id="subscribe-email"
      name="email"
      required
      placeholder={placeholder}
      class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-white text-navy placeholder:text-gray-400 transition-all focus:outline-none focus:border-gold focus:ring-2 focus:ring-gold/20"
    />
  </div>

  <button
    type="submit"
    class="px-6 py-3 bg-gold text-navy font-semibold rounded-lg transition-all hover:bg-gold/90 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-gold focus:ring-offset-2 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed"
  >
    {buttonText}
  </button>
</form>

<style>
  form:has(input:invalid:not(:placeholder-shown)) button {
    opacity: 0.5;
    cursor: not-allowed;
  }
</style>
